<!-- _layouts/docs-category.html -->

<header>
  <div class="container">
    <div class="header-content">
      <a href="{{ '/' | relative_url }}" class="site-title">{{ site.title }}</a>
      <nav>
        <ul>
          {% for item in site.navigation %}
            <li>
              <a href="{{ item.url | relative_url }}" 
                 class="{% if page.url == item.url %}active{% endif %}">
                {{ item.title }}
              </a>
            </li>
          {% endfor %}
        </ul>
      </nav>
    </div>
  </div>
</header>

<div class="docs-category">
  <div class="category-header {{ page.category }}">
    <h1>
      {% case page.category %}
        {% when "cloudnative" %}🚀 DevOps & 云原生文档
        {% when "llm" %}🤖 大语言模型文档
        {% when "maths" %}🔢 数学文档
        {% when "web3" %}⛓️ Web3 文档
        {% when "physics" %}⚛️ 物理文档
        {% when "finance" %}💰 财经文档
        {% when "management" %}🎯 管理文档
        {% when "security" %}🔒 信息安全文档
        {% when "philosophy" %}🧠 哲学文化文档
      {% endcase %}
    </h1>
    <p>{{ page.description }}</p>
  </div>
  
  <div class="docs-content">
    <div class="sidebar">

      
      <div class="sidebar-section">
        <h3>📚 文档目录</h3>
        <ul class="docs-nav">
          {% assign category_docs = site.pages | where: "category", page.category | sort: "date" | reverse %}
          {% for doc in category_docs %}
            <li>
              <a href="{{ doc.url | relative_url }}" class="{% if doc.url == page.url %}active{% endif %}">
                📚 {{ doc.title }}
              </a>
            </li>
          {% endfor %}
        </ul>
      </div>

    </div>
    
    <div class="main-content">
      <div class="doc-content">
        <h1>{{ page.title }}</h1>
        
        <div class="doc-body">
          {{ content }}
        </div>
        
        <div class="doc-navigation">
          {% assign docs_list = category_docs %}
          {% for doc in docs_list %}
            {% if doc.url == page.url %}
              {% assign prev_index = forloop.index0 | minus: 1 %}
              {% assign next_index = forloop.index0 | plus: 1 %}
              
              {% if prev_index >= 0 %}
                {% assign prev_doc = docs_list[prev_index] %}
                <a href="{{ prev_doc.url | relative_url }}" class="prev-doc">
                  ← {{ prev_doc.title | truncate: 30 }}
                </a>
              {% endif %}
              
              {% if next_index < docs_list.size %}
                {% assign next_doc = docs_list[next_index] %}
                <a href="{{ next_doc.url | relative_url }}" class="next-doc">
                  {{ next_doc.title | truncate: 30 }} →
                </a>
              {% endif %}
              
              {% break %}
            {% endif %}
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</div>

<link rel="stylesheet" href="/assets/css/docs.css">

<style>
  /* 导航栏样式 */
  header {
    border-bottom: 1px solid #e1e4e8;
    background-color: white;
    position: sticky;
    top: 0;
    z-index: 100;
  }
  
  .container {
    max-width: 1800px;
    margin: 0 auto;
    padding: 0 1rem;
  }
  
  .header-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 0;
  }
  
  .site-title {
    font-size: 1.5rem;
    font-weight: 600;
    color: #24292e;
    text-decoration: none;
  }
  
  .site-title:hover {
    color: #0366d6;
  }
  
  nav ul {
    display: flex;
    list-style: none;
    margin: 0;
    padding: 0;
    gap: 2rem;
  }
  
  nav a {
    color: #586069;
    text-decoration: none;
    font-weight: 500;
    transition: color 0.2s ease;
  }
  
  nav a:hover,
  nav a.active {
    color: #0366d6;
  }
  
  /* 响应式设计 */
  @media (max-width: 768px) {
    .header-content {
      flex-direction: column;
      gap: 1rem;
    }
    
    nav ul {
      gap: 1rem;
    }
  }
</style>