---
layout: doc
title: 马尔可夫不等式
date: 2025-10-22
category: maths
author: PiziCai
tags: [maths]
excerpt: 马尔可夫不等式
permalink: /docs/maths/2025/马尔可夫不等式/
---

## 定义

**马尔可夫不等式**（Markov's Inequality）是概率论中最基本、最常用的不等式之一，用于估计非负随机变量取值较大时概率的上界。它对随机变量的分布没有过多假设，只要求其为非负且具有有限期望。

**正式表述：**

设 $X$ 是一个非负随机变量（即 $X \ge 0$），对任意 $a > 0$，有：

$$
P(X \ge a) \leq \frac{E[X]}{a}
$$

其中 $E[X]$ 表示 $X$ 的期望。

通俗来说：如果我们只知道 $X$ 的期望为 $E[X]$，那么 $X$ 超过 $a$ 的概率一定不大于 $E[X]/a$。

## 推导

马尔可夫不等式的推导非常简单：

因为 $X$ 始终非负，有
$$
X \geq a \cdot I[X \geq a]
$$
其中 $I[X \geq a]$ 是指示函数（当 $X \geq a$ 时为 $1$，否则为 $0$）。

两边取期望，得
$$
E[X] \geq a \cdot P(X \geq a)
$$
等价于
$$
P(X \geq a) \leq \frac{E[X]}{a}
$$


## 直观理解

- 只要知道非负变量的均值，就可以对其极端取值的概率给出最大可能性估计。
- 马尔可夫不等式常用来得到较粗糙的概率上界，是很多高级概率不等式（如切比雪夫、鞅不等式等）的基础。


## 应用例子

1. **风险评估**  
   若股票年收益 $X$ 恒非负且 $E[X] = 10$，则收益大于等于 $50$ 的概率至多为 $0.2$。

2. **大数定律的概率估计**  
   证明收敛概率为 $1$ 前，常先用马尔可夫不等式给出收敛速率的上界。

## Python 实现示例

```python
def markov_upper_bound(expectation, a):
    """马尔可夫不等式概率上界"""
    if a <= 0:
        raise ValueError("a 必须大于 0")
    return expectation / a

# 例子：期望为 10，计算取值≥50 之概率上界
E_X = 10
a = 50
prob_upper = markov_upper_bound(E_X, a)
print(f"概率不会超过: {prob_upper:.2f}")
# 输出: 概率不会超过: 0.20
```

## 总结

- 马尔可夫不等式只适用于非负随机变量。
- 它给出了极限事件发生概率的最“保守”估计。
- 切比雪夫不等式等更强的不等式都是以其为基础推导而来。
